{"ast":null,"code":"import { useCallback, useMemo, useRef } from 'react';\nimport { useSyncedRef } from '../useSyncedRef';\nimport { useUnmountEffect } from '../useUnmountEffect';\nimport { isBrowser } from \"../util/const.js\";\n/**\n * Makes passed function to be called within next animation frame.\n *\n * Consequential calls, before the animation frame occurred, cancel previously scheduled call.\n *\n * @param cb Callback to fire within animation frame.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function useRafCallback(cb) {\n  const cbRef = useSyncedRef(cb);\n  const frame = useRef(0);\n  const cancel = useCallback(() => {\n    if (!isBrowser) return;\n    if (frame.current) {\n      cancelAnimationFrame(frame.current);\n      frame.current = 0;\n    }\n  }, []);\n  useUnmountEffect(cancel);\n  return [useMemo(() => {\n    const wrapped = function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      if (!isBrowser) return;\n      cancel();\n      frame.current = requestAnimationFrame(() => {\n        cbRef.current(...args);\n        frame.current = 0;\n      });\n    };\n    Object.defineProperties(wrapped, {\n      length: {\n        value: cb.length\n      },\n      name: {\n        value: `${cb.name || 'anonymous'}__raf`\n      }\n    });\n    return wrapped;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []), cancel];\n}","map":{"version":3,"names":["useCallback","useMemo","useRef","useSyncedRef","useUnmountEffect","isBrowser","useRafCallback","cb","cbRef","frame","cancel","current","cancelAnimationFrame","wrapped","_len","arguments","length","args","Array","_key","requestAnimationFrame","Object","defineProperties","value","name"],"sources":["C:/Users/trs_user/Documents/my/bntu-library/node_modules/@react-hookz/web/esm/useRafCallback/index.js"],"sourcesContent":["import { useCallback, useMemo, useRef } from 'react';\nimport { useSyncedRef } from '../useSyncedRef';\nimport { useUnmountEffect } from '../useUnmountEffect';\nimport { isBrowser } from \"../util/const.js\";\n/**\n * Makes passed function to be called within next animation frame.\n *\n * Consequential calls, before the animation frame occurred, cancel previously scheduled call.\n *\n * @param cb Callback to fire within animation frame.\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function useRafCallback(cb) {\n    const cbRef = useSyncedRef(cb);\n    const frame = useRef(0);\n    const cancel = useCallback(() => {\n        if (!isBrowser)\n            return;\n        if (frame.current) {\n            cancelAnimationFrame(frame.current);\n            frame.current = 0;\n        }\n    }, []);\n    useUnmountEffect(cancel);\n    return [\n        useMemo(() => {\n            const wrapped = (...args) => {\n                if (!isBrowser)\n                    return;\n                cancel();\n                frame.current = requestAnimationFrame(() => {\n                    cbRef.current(...args);\n                    frame.current = 0;\n                });\n            };\n            Object.defineProperties(wrapped, {\n                length: { value: cb.length },\n                name: { value: `${cb.name || 'anonymous'}__raf` },\n            });\n            return wrapped;\n            // eslint-disable-next-line react-hooks/exhaustive-deps\n        }, []),\n        cancel,\n    ];\n}\n"],"mappings":"AAAA,SAASA,WAAW,EAAEC,OAAO,EAAEC,MAAM,QAAQ,OAAO;AACpD,SAASC,YAAY,QAAQ,iBAAiB;AAC9C,SAASC,gBAAgB,QAAQ,qBAAqB;AACtD,SAASC,SAAS,QAAQ,kBAAkB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,cAAcA,CAACC,EAAE,EAAE;EAC/B,MAAMC,KAAK,GAAGL,YAAY,CAACI,EAAE,CAAC;EAC9B,MAAME,KAAK,GAAGP,MAAM,CAAC,CAAC,CAAC;EACvB,MAAMQ,MAAM,GAAGV,WAAW,CAAC,MAAM;IAC7B,IAAI,CAACK,SAAS,EACV;IACJ,IAAII,KAAK,CAACE,OAAO,EAAE;MACfC,oBAAoB,CAACH,KAAK,CAACE,OAAO,CAAC;MACnCF,KAAK,CAACE,OAAO,GAAG,CAAC;IACrB;EACJ,CAAC,EAAE,EAAE,CAAC;EACNP,gBAAgB,CAACM,MAAM,CAAC;EACxB,OAAO,CACHT,OAAO,CAAC,MAAM;IACV,MAAMY,OAAO,GAAG,SAAAA,CAAA,EAAa;MAAA,SAAAC,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAATC,IAAI,OAAAC,KAAA,CAAAJ,IAAA,GAAAK,IAAA,MAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA;QAAJF,IAAI,CAAAE,IAAA,IAAAJ,SAAA,CAAAI,IAAA;MAAA;MACpB,IAAI,CAACd,SAAS,EACV;MACJK,MAAM,EAAE;MACRD,KAAK,CAACE,OAAO,GAAGS,qBAAqB,CAAC,MAAM;QACxCZ,KAAK,CAACG,OAAO,CAAC,GAAGM,IAAI,CAAC;QACtBR,KAAK,CAACE,OAAO,GAAG,CAAC;MACrB,CAAC,CAAC;IACN,CAAC;IACDU,MAAM,CAACC,gBAAgB,CAACT,OAAO,EAAE;MAC7BG,MAAM,EAAE;QAAEO,KAAK,EAAEhB,EAAE,CAACS;MAAO,CAAC;MAC5BQ,IAAI,EAAE;QAAED,KAAK,EAAG,GAAEhB,EAAE,CAACiB,IAAI,IAAI,WAAY;MAAO;IACpD,CAAC,CAAC;IACF,OAAOX,OAAO;IACd;EACJ,CAAC,EAAE,EAAE,CAAC,EACNH,MAAM,CACT;AACL"},"metadata":{},"sourceType":"module","externalDependencies":[]}