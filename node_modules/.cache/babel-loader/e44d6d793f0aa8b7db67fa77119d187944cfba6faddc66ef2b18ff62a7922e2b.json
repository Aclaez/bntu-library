{"ast":null,"code":"import _slicedToArray from \"C:/Users/trs_user/Documents/my/bntu-library/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { useCallback, useEffect, useState } from 'react';\nimport { useSyncedRef } from '../useSyncedRef';\n/**\n * Performs validation when any of provided dependencies has changed.\n *\n * @param validator Function that performs validation.\n * @param deps Dependencies list that passed straight to underlying `useEffect`.\n * @param initialValidity Initial validity state.\n */\nexport function useValidator(validator, deps) {\n  var initialValidity = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {\n    isValid: undefined\n  };\n  var _useState = useState(initialValidity),\n    _useState2 = _slicedToArray(_useState, 2),\n    validity = _useState2[0],\n    setValidity = _useState2[1];\n  var validatorRef = useSyncedRef(function () {\n    if (validator.length) {\n      validator(setValidity);\n    } else {\n      setValidity(validator());\n    }\n  });\n  useEffect(function () {\n    validatorRef.current();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, deps);\n  return [validity, useCallback(function () {\n    validatorRef.current();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])];\n}","map":{"version":3,"names":["useCallback","useEffect","useState","useSyncedRef","useValidator","validator","deps","initialValidity","arguments","length","undefined","isValid","_useState","_useState2","_slicedToArray","validity","setValidity","validatorRef","current"],"sources":["C:/Users/trs_user/Documents/my/bntu-library/node_modules/@react-hookz/web/esm/useValidator/index.js"],"sourcesContent":["import { useCallback, useEffect, useState } from 'react';\nimport { useSyncedRef } from '../useSyncedRef';\n/**\n * Performs validation when any of provided dependencies has changed.\n *\n * @param validator Function that performs validation.\n * @param deps Dependencies list that passed straight to underlying `useEffect`.\n * @param initialValidity Initial validity state.\n */\nexport function useValidator(validator, deps, initialValidity = { isValid: undefined }) {\n    const [validity, setValidity] = useState(initialValidity);\n    const validatorRef = useSyncedRef(() => {\n        if (validator.length) {\n            validator(setValidity);\n        }\n        else {\n            setValidity(validator());\n        }\n    });\n    useEffect(() => {\n        validatorRef.current();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, deps);\n    return [\n        validity,\n        useCallback(() => {\n            validatorRef.current();\n            // eslint-disable-next-line react-hooks/exhaustive-deps\n        }, []),\n    ];\n}\n"],"mappings":";AAAA,SAASA,WAAW,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AACxD,SAASC,YAAY,QAAQ,iBAAiB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,YAAYA,CAACC,SAAS,EAAEC,IAAI,EAA4C;EAAA,IAA1CC,eAAe,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG;IAAEG,OAAO,EAAED;EAAU,CAAC;EAClF,IAAAE,SAAA,GAAgCV,QAAQ,CAACK,eAAe,CAAC;IAAAM,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAAlDG,QAAQ,GAAAF,UAAA;IAAEG,WAAW,GAAAH,UAAA;EAC5B,IAAMI,YAAY,GAAGd,YAAY,CAAC,YAAM;IACpC,IAAIE,SAAS,CAACI,MAAM,EAAE;MAClBJ,SAAS,CAACW,WAAW,CAAC;IAC1B,CAAC,MACI;MACDA,WAAW,CAACX,SAAS,EAAE,CAAC;IAC5B;EACJ,CAAC,CAAC;EACFJ,SAAS,CAAC,YAAM;IACZgB,YAAY,CAACC,OAAO,EAAE;IACtB;EACJ,CAAC,EAAEZ,IAAI,CAAC;EACR,OAAO,CACHS,QAAQ,EACRf,WAAW,CAAC,YAAM;IACdiB,YAAY,CAACC,OAAO,EAAE;IACtB;EACJ,CAAC,EAAE,EAAE,CAAC,CACT;AACL"},"metadata":{},"sourceType":"module","externalDependencies":[]}