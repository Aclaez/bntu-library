{"ast":null,"code":"import { useCallback, useRef } from 'react';\nimport { useFirstMountState } from '../useFirstMountState';\nimport { useRerender } from '../useRerender';\nimport { resolveHookState } from \"../util/resolveHookState.js\";\n/**\n * Like `React.useState`, but its state setter accepts extra argument, that allows to cancel\n * rerender.\n */\nexport function useControlledRerenderState(initialState) {\n  var state = useRef(useFirstMountState() ? resolveHookState(initialState) : undefined);\n  var rr = useRerender();\n  return [state.current, useCallback(function (value, rerender) {\n    var newState = resolveHookState(value, state.current);\n    if (newState !== state.current) {\n      state.current = newState;\n      if (rerender === undefined || rerender) {\n        rr();\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])];\n}","map":{"version":3,"names":["useCallback","useRef","useFirstMountState","useRerender","resolveHookState","useControlledRerenderState","initialState","state","undefined","rr","current","value","rerender","newState"],"sources":["C:/Users/trs_user/Documents/my/bntu-library/node_modules/@react-hookz/web/esm/useControlledRerenderState/index.js"],"sourcesContent":["import { useCallback, useRef } from 'react';\nimport { useFirstMountState } from '../useFirstMountState';\nimport { useRerender } from '../useRerender';\nimport { resolveHookState } from \"../util/resolveHookState.js\";\n/**\n * Like `React.useState`, but its state setter accepts extra argument, that allows to cancel\n * rerender.\n */\nexport function useControlledRerenderState(initialState) {\n    const state = useRef(useFirstMountState() ? resolveHookState(initialState) : undefined);\n    const rr = useRerender();\n    return [\n        state.current,\n        useCallback((value, rerender) => {\n            const newState = resolveHookState(value, state.current);\n            if (newState !== state.current) {\n                state.current = newState;\n                if (rerender === undefined || rerender) {\n                    rr();\n                }\n            }\n            // eslint-disable-next-line react-hooks/exhaustive-deps\n        }, []),\n    ];\n}\n"],"mappings":"AAAA,SAASA,WAAW,EAAEC,MAAM,QAAQ,OAAO;AAC3C,SAASC,kBAAkB,QAAQ,uBAAuB;AAC1D,SAASC,WAAW,QAAQ,gBAAgB;AAC5C,SAASC,gBAAgB,QAAQ,6BAA6B;AAC9D;AACA;AACA;AACA;AACA,OAAO,SAASC,0BAA0BA,CAACC,YAAY,EAAE;EACrD,IAAMC,KAAK,GAAGN,MAAM,CAACC,kBAAkB,EAAE,GAAGE,gBAAgB,CAACE,YAAY,CAAC,GAAGE,SAAS,CAAC;EACvF,IAAMC,EAAE,GAAGN,WAAW,EAAE;EACxB,OAAO,CACHI,KAAK,CAACG,OAAO,EACbV,WAAW,CAAC,UAACW,KAAK,EAAEC,QAAQ,EAAK;IAC7B,IAAMC,QAAQ,GAAGT,gBAAgB,CAACO,KAAK,EAAEJ,KAAK,CAACG,OAAO,CAAC;IACvD,IAAIG,QAAQ,KAAKN,KAAK,CAACG,OAAO,EAAE;MAC5BH,KAAK,CAACG,OAAO,GAAGG,QAAQ;MACxB,IAAID,QAAQ,KAAKJ,SAAS,IAAII,QAAQ,EAAE;QACpCH,EAAE,EAAE;MACR;IACJ;IACA;EACJ,CAAC,EAAE,EAAE,CAAC,CACT;AACL"},"metadata":{},"sourceType":"module","externalDependencies":[]}