{"ast":null,"code":"import _toConsumableArray from \"C:/Users/trs_user/Documents/my/bntu-library/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { useMemo, useRef } from 'react';\nimport { useUnmountEffect } from '../useUnmountEffect';\n/**\n * Makes passed function throttled, otherwise acts like `useCallback`.\n *\n * @param callback Function that will be throttled.\n * @param deps Dependencies list when to update callback.\n * @param delay Throttle delay.\n * @param noTrailing If `noTrailing` is true, callback will only execute every\n * `delay` milliseconds, otherwise, callback will be executed one final time\n * after the last throttled-function call.\n */\nexport function useThrottledCallback(callback, deps, delay) {\n  var noTrailing = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  var timeout = useRef();\n  var lastCall = useRef();\n  useUnmountEffect(function () {\n    if (timeout.current) {\n      clearTimeout(timeout.current);\n    }\n  });\n  return useMemo(function () {\n    var execute = function execute(context, args) {\n      lastCall.current = undefined;\n      callback.apply(context, args);\n      timeout.current = setTimeout(function () {\n        timeout.current = undefined;\n        // if trailing execution is not disabled - call callback with last\n        // received arguments and context\n        if (!noTrailing && lastCall.current) {\n          execute(lastCall.current.this, lastCall.current.args);\n          lastCall.current = undefined;\n        }\n      }, delay);\n    };\n    // eslint-disable-next-line func-names\n    var wrapped = function wrapped() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      if (timeout.current) {\n        // if we cant execute callback immediately - save its arguments and\n        // context to execute it when delay is passed\n        lastCall.current = {\n          args: args,\n          this: this\n        };\n        return;\n      }\n      execute(this, args);\n    };\n    Object.defineProperties(wrapped, {\n      length: {\n        value: callback.length\n      },\n      name: {\n        value: \"\".concat(callback.name || 'anonymous', \"__throttled__\").concat(delay)\n      }\n    });\n    return wrapped;\n    // eslint-disable-next-line react-hooks/exhaustive-deps,@typescript-eslint/no-unsafe-assignment\n  }, [delay, noTrailing].concat(_toConsumableArray(deps)));\n}","map":{"version":3,"names":["useMemo","useRef","useUnmountEffect","useThrottledCallback","callback","deps","delay","noTrailing","arguments","length","undefined","timeout","lastCall","current","clearTimeout","execute","context","args","apply","setTimeout","this","wrapped","_len","Array","_key","Object","defineProperties","value","name","concat","_toConsumableArray"],"sources":["C:/Users/trs_user/Documents/my/bntu-library/node_modules/@react-hookz/web/esm/useThrottledCallback/index.js"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { useMemo, useRef } from 'react';\nimport { useUnmountEffect } from '../useUnmountEffect';\n/**\n * Makes passed function throttled, otherwise acts like `useCallback`.\n *\n * @param callback Function that will be throttled.\n * @param deps Dependencies list when to update callback.\n * @param delay Throttle delay.\n * @param noTrailing If `noTrailing` is true, callback will only execute every\n * `delay` milliseconds, otherwise, callback will be executed one final time\n * after the last throttled-function call.\n */\nexport function useThrottledCallback(callback, deps, delay, noTrailing = false) {\n    const timeout = useRef();\n    const lastCall = useRef();\n    useUnmountEffect(() => {\n        if (timeout.current) {\n            clearTimeout(timeout.current);\n        }\n    });\n    return useMemo(() => {\n        const execute = (context, args) => {\n            lastCall.current = undefined;\n            callback.apply(context, args);\n            timeout.current = setTimeout(() => {\n                timeout.current = undefined;\n                // if trailing execution is not disabled - call callback with last\n                // received arguments and context\n                if (!noTrailing && lastCall.current) {\n                    execute(lastCall.current.this, lastCall.current.args);\n                    lastCall.current = undefined;\n                }\n            }, delay);\n        };\n        // eslint-disable-next-line func-names\n        const wrapped = function (...args) {\n            if (timeout.current) {\n                // if we cant execute callback immediately - save its arguments and\n                // context to execute it when delay is passed\n                lastCall.current = { args, this: this };\n                return;\n            }\n            execute(this, args);\n        };\n        Object.defineProperties(wrapped, {\n            length: { value: callback.length },\n            name: { value: `${callback.name || 'anonymous'}__throttled__${delay}` },\n        });\n        return wrapped;\n        // eslint-disable-next-line react-hooks/exhaustive-deps,@typescript-eslint/no-unsafe-assignment\n    }, [delay, noTrailing, ...deps]);\n}\n"],"mappings":";AAAA;AACA,SAASA,OAAO,EAAEC,MAAM,QAAQ,OAAO;AACvC,SAASC,gBAAgB,QAAQ,qBAAqB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,oBAAoBA,CAACC,QAAQ,EAAEC,IAAI,EAAEC,KAAK,EAAsB;EAAA,IAApBC,UAAU,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,KAAK;EAC1E,IAAMG,OAAO,GAAGV,MAAM,EAAE;EACxB,IAAMW,QAAQ,GAAGX,MAAM,EAAE;EACzBC,gBAAgB,CAAC,YAAM;IACnB,IAAIS,OAAO,CAACE,OAAO,EAAE;MACjBC,YAAY,CAACH,OAAO,CAACE,OAAO,CAAC;IACjC;EACJ,CAAC,CAAC;EACF,OAAOb,OAAO,CAAC,YAAM;IACjB,IAAMe,OAAO,GAAG,SAAVA,OAAOA,CAAIC,OAAO,EAAEC,IAAI,EAAK;MAC/BL,QAAQ,CAACC,OAAO,GAAGH,SAAS;MAC5BN,QAAQ,CAACc,KAAK,CAACF,OAAO,EAAEC,IAAI,CAAC;MAC7BN,OAAO,CAACE,OAAO,GAAGM,UAAU,CAAC,YAAM;QAC/BR,OAAO,CAACE,OAAO,GAAGH,SAAS;QAC3B;QACA;QACA,IAAI,CAACH,UAAU,IAAIK,QAAQ,CAACC,OAAO,EAAE;UACjCE,OAAO,CAACH,QAAQ,CAACC,OAAO,CAACO,IAAI,EAAER,QAAQ,CAACC,OAAO,CAACI,IAAI,CAAC;UACrDL,QAAQ,CAACC,OAAO,GAAGH,SAAS;QAChC;MACJ,CAAC,EAAEJ,KAAK,CAAC;IACb,CAAC;IACD;IACA,IAAMe,OAAO,GAAG,SAAVA,OAAOA,CAAA,EAAsB;MAAA,SAAAC,IAAA,GAAAd,SAAA,CAAAC,MAAA,EAANQ,IAAI,OAAAM,KAAA,CAAAD,IAAA,GAAAE,IAAA,MAAAA,IAAA,GAAAF,IAAA,EAAAE,IAAA;QAAJP,IAAI,CAAAO,IAAA,IAAAhB,SAAA,CAAAgB,IAAA;MAAA;MAC7B,IAAIb,OAAO,CAACE,OAAO,EAAE;QACjB;QACA;QACAD,QAAQ,CAACC,OAAO,GAAG;UAAEI,IAAI,EAAJA,IAAI;UAAEG,IAAI,EAAE;QAAK,CAAC;QACvC;MACJ;MACAL,OAAO,CAAC,IAAI,EAAEE,IAAI,CAAC;IACvB,CAAC;IACDQ,MAAM,CAACC,gBAAgB,CAACL,OAAO,EAAE;MAC7BZ,MAAM,EAAE;QAAEkB,KAAK,EAAEvB,QAAQ,CAACK;MAAO,CAAC;MAClCmB,IAAI,EAAE;QAAED,KAAK,KAAAE,MAAA,CAAKzB,QAAQ,CAACwB,IAAI,IAAI,WAAW,mBAAAC,MAAA,CAAgBvB,KAAK;MAAG;IAC1E,CAAC,CAAC;IACF,OAAOe,OAAO;IACd;EACJ,CAAC,GAAGf,KAAK,EAAEC,UAAU,EAAAsB,MAAA,CAAAC,kBAAA,CAAKzB,IAAI,GAAE;AACpC"},"metadata":{},"sourceType":"module","externalDependencies":[]}