{"ast":null,"code":"import _slicedToArray from \"C:/Users/trs_user/Documents/my/bntu-library/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { useCallback, useState } from 'react';\nimport { useSyncedRef } from '../useSyncedRef';\nimport { resolveHookState } from \"../util/resolveHookState.js\";\n/**\n * Like `useState`, but every value set is passed through a mediator function.\n */\nexport function useMediatedState(initialState, mediator) {\n  var _useState = useState(function () {\n      return mediator ? mediator(resolveHookState(initialState)) : initialState;\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    state = _useState2[0],\n    setState = _useState2[1];\n  var mediatorRef = useSyncedRef(mediator);\n  return [state, useCallback(function (value) {\n    if (mediatorRef.current) {\n      setState(function (prevState) {\n        var _mediatorRef$current;\n        return (_mediatorRef$current = mediatorRef.current) === null || _mediatorRef$current === void 0 ? void 0 : _mediatorRef$current.call(mediatorRef, resolveHookState(value, prevState));\n      });\n    } else {\n      setState(value);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])];\n}","map":{"version":3,"names":["useCallback","useState","useSyncedRef","resolveHookState","useMediatedState","initialState","mediator","_useState","_useState2","_slicedToArray","state","setState","mediatorRef","value","current","prevState","_mediatorRef$current","call"],"sources":["C:/Users/trs_user/Documents/my/bntu-library/node_modules/@react-hookz/web/esm/useMediatedState/index.js"],"sourcesContent":["import { useCallback, useState } from 'react';\nimport { useSyncedRef } from '../useSyncedRef';\nimport { resolveHookState } from \"../util/resolveHookState.js\";\n/**\n * Like `useState`, but every value set is passed through a mediator function.\n */\nexport function useMediatedState(initialState, mediator) {\n    const [state, setState] = useState(() => {\n        return mediator ? mediator(resolveHookState(initialState)) : initialState;\n    });\n    const mediatorRef = useSyncedRef(mediator);\n    return [\n        state,\n        useCallback((value) => {\n            if (mediatorRef.current) {\n                setState((prevState) => mediatorRef.current?.(resolveHookState(value, prevState)));\n            }\n            else {\n                setState(value);\n            }\n            // eslint-disable-next-line react-hooks/exhaustive-deps\n        }, []),\n    ];\n}\n"],"mappings":";AAAA,SAASA,WAAW,EAAEC,QAAQ,QAAQ,OAAO;AAC7C,SAASC,YAAY,QAAQ,iBAAiB;AAC9C,SAASC,gBAAgB,QAAQ,6BAA6B;AAC9D;AACA;AACA;AACA,OAAO,SAASC,gBAAgBA,CAACC,YAAY,EAAEC,QAAQ,EAAE;EACrD,IAAAC,SAAA,GAA0BN,QAAQ,CAAC,YAAM;MACrC,OAAOK,QAAQ,GAAGA,QAAQ,CAACH,gBAAgB,CAACE,YAAY,CAAC,CAAC,GAAGA,YAAY;IAC7E,CAAC,CAAC;IAAAG,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAFKG,KAAK,GAAAF,UAAA;IAAEG,QAAQ,GAAAH,UAAA;EAGtB,IAAMI,WAAW,GAAGV,YAAY,CAACI,QAAQ,CAAC;EAC1C,OAAO,CACHI,KAAK,EACLV,WAAW,CAAC,UAACa,KAAK,EAAK;IACnB,IAAID,WAAW,CAACE,OAAO,EAAE;MACrBH,QAAQ,CAAC,UAACI,SAAS;QAAA,IAAAC,oBAAA;QAAA,QAAAA,oBAAA,GAAKJ,WAAW,CAACE,OAAO,cAAAE,oBAAA,uBAAnBA,oBAAA,CAAAC,IAAA,CAAAL,WAAW,EAAWT,gBAAgB,CAACU,KAAK,EAAEE,SAAS,CAAC,CAAC;MAAA,EAAC;IACtF,CAAC,MACI;MACDJ,QAAQ,CAACE,KAAK,CAAC;IACnB;IACA;EACJ,CAAC,EAAE,EAAE,CAAC,CACT;AACL"},"metadata":{},"sourceType":"module","externalDependencies":[]}