{"ast":null,"code":"import { useCallback, useEffect, useState } from 'react';\nimport { useSyncedRef } from '../useSyncedRef';\n/**\n * Performs validation when any of provided dependencies has changed.\n *\n * @param validator Function that performs validation.\n * @param deps Dependencies list that passed straight to underlying `useEffect`.\n * @param initialValidity Initial validity state.\n */\nexport function useValidator(validator, deps) {\n  let initialValidity = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {\n    isValid: undefined\n  };\n  const [validity, setValidity] = useState(initialValidity);\n  const validatorRef = useSyncedRef(() => {\n    if (validator.length) {\n      validator(setValidity);\n    } else {\n      setValidity(validator());\n    }\n  });\n  useEffect(() => {\n    validatorRef.current();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, deps);\n  return [validity, useCallback(() => {\n    validatorRef.current();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])];\n}","map":{"version":3,"names":["useCallback","useEffect","useState","useSyncedRef","useValidator","validator","deps","initialValidity","arguments","length","undefined","isValid","validity","setValidity","validatorRef","current"],"sources":["C:/Users/trs_user/Documents/my/bntu-library/node_modules/@react-hookz/web/esm/useValidator/index.js"],"sourcesContent":["import { useCallback, useEffect, useState } from 'react';\nimport { useSyncedRef } from '../useSyncedRef';\n/**\n * Performs validation when any of provided dependencies has changed.\n *\n * @param validator Function that performs validation.\n * @param deps Dependencies list that passed straight to underlying `useEffect`.\n * @param initialValidity Initial validity state.\n */\nexport function useValidator(validator, deps, initialValidity = { isValid: undefined }) {\n    const [validity, setValidity] = useState(initialValidity);\n    const validatorRef = useSyncedRef(() => {\n        if (validator.length) {\n            validator(setValidity);\n        }\n        else {\n            setValidity(validator());\n        }\n    });\n    useEffect(() => {\n        validatorRef.current();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, deps);\n    return [\n        validity,\n        useCallback(() => {\n            validatorRef.current();\n            // eslint-disable-next-line react-hooks/exhaustive-deps\n        }, []),\n    ];\n}\n"],"mappings":"AAAA,SAASA,WAAW,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AACxD,SAASC,YAAY,QAAQ,iBAAiB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,YAAYA,CAACC,SAAS,EAAEC,IAAI,EAA4C;EAAA,IAA1CC,eAAe,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG;IAAEG,OAAO,EAAED;EAAU,CAAC;EAClF,MAAM,CAACE,QAAQ,EAAEC,WAAW,CAAC,GAAGX,QAAQ,CAACK,eAAe,CAAC;EACzD,MAAMO,YAAY,GAAGX,YAAY,CAAC,MAAM;IACpC,IAAIE,SAAS,CAACI,MAAM,EAAE;MAClBJ,SAAS,CAACQ,WAAW,CAAC;IAC1B,CAAC,MACI;MACDA,WAAW,CAACR,SAAS,EAAE,CAAC;IAC5B;EACJ,CAAC,CAAC;EACFJ,SAAS,CAAC,MAAM;IACZa,YAAY,CAACC,OAAO,EAAE;IACtB;EACJ,CAAC,EAAET,IAAI,CAAC;EACR,OAAO,CACHM,QAAQ,EACRZ,WAAW,CAAC,MAAM;IACdc,YAAY,CAACC,OAAO,EAAE;IACtB;EACJ,CAAC,EAAE,EAAE,CAAC,CACT;AACL"},"metadata":{},"sourceType":"module","externalDependencies":[]}