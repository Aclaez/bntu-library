{"ast":null,"code":"import _defineProperty from\"C:/Users/trs_user/Documents/my/bntu-library/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _slicedToArray from\"C:/Users/trs_user/Documents/my/bntu-library/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import styles from\"./Paginator.module.scss\";import{IconArrowDown}from\"../../assets/icons/icons\";import Btn from\"../Btn/Btn\";import classNames from\"classnames\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PAGE_SIZE=25;function Paginator(_ref){var dataCount=_ref.dataCount,currentPage=_ref.currentPage,setCurrentPage=_ref.setCurrentPage;var pagesCount=Math.ceil(+dataCount/PAGE_SIZE);var _useState=useState(null),_useState2=_slicedToArray(_useState,2),leftSide=_useState2[0],setLeftSide=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),rifhtSide=_useState4[0],setRightSide=_useState4[1];useEffect(function(){setLeftSide(function(){if(currentPage<5){return Array(currentPage-1).fill().map(function(_,index){return index+1;});}else{return[1,\"...\",currentPage-1];}});setRightSide(function(){if(pagesCount-currentPage<4){return Array(pagesCount-currentPage).fill().map(function(_,index){return currentPage+index+1;});}else{return[currentPage+1,\"...\",pagesCount];}});},[currentPage,pagesCount]);return/*#__PURE__*/_jsxs(\"div\",{className:styles.paginator,children:[/*#__PURE__*/_jsx(Btn,{noBorder:true,className:styles.back,disabled:currentPage===1,onClick:function onClick(){setCurrentPage(currentPage-1);},children:/*#__PURE__*/_jsx(IconArrowDown,{})}),/*#__PURE__*/_jsxs(\"div\",{className:styles.pages,children:[leftSide&&leftSide.map(function(page){return/*#__PURE__*/_jsx(PageCircle,{pageNum:page,onPageClick:function onPageClick(){setCurrentPage(+page);},isActivePage:false},page);}),/*#__PURE__*/_jsx(PageCircle,{pageNum:currentPage,onPageClick:function onPageClick(){setCurrentPage(+currentPage);},isActivePage:true},currentPage),rifhtSide&&rifhtSide.map(function(page){return/*#__PURE__*/_jsx(PageCircle,{pageNum:page,onPageClick:function onPageClick(){setCurrentPage(+page);},isActivePage:false},page);})]}),/*#__PURE__*/_jsx(Btn,{noBorder:true,className:styles.next,disabled:currentPage===pagesCount,onClick:function onClick(){setCurrentPage(currentPage+1);},children:/*#__PURE__*/_jsx(IconArrowDown,{})})]});}export default Paginator;var PageCircle=function PageCircle(_ref2){var pageNum=_ref2.pageNum,onPageClick=_ref2.onPageClick,isActivePage=_ref2.isActivePage;return pageNum!==\"...\"?/*#__PURE__*/_jsx(\"button\",{onClick:onPageClick,className:classNames(styles.pageCircle,_defineProperty({},styles.activePageCircle,isActivePage)),children:pageNum}):/*#__PURE__*/_jsx(\"button\",{className:classNames(styles.pageCircle,styles.dots),children:\"...\"});};","map":{"version":3,"names":["React","useEffect","useState","styles","IconArrowDown","Btn","classNames","jsx","_jsx","jsxs","_jsxs","PAGE_SIZE","Paginator","_ref","dataCount","currentPage","setCurrentPage","pagesCount","Math","ceil","_useState","_useState2","_slicedToArray","leftSide","setLeftSide","_useState3","_useState4","rifhtSide","setRightSide","Array","fill","map","_","index","className","paginator","children","noBorder","back","disabled","onClick","pages","page","PageCircle","pageNum","onPageClick","isActivePage","next","_ref2","pageCircle","_defineProperty","activePageCircle","dots"],"sources":["C:/Users/trs_user/Documents/my/bntu-library/src/components/Paginator/Paginator.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport styles from \"./Paginator.module.scss\";\r\nimport { IconArrowDown } from \"../../assets/icons/icons\";\r\nimport Btn from \"../Btn/Btn\";\r\nimport classNames from \"classnames\";\r\n\r\nconst PAGE_SIZE = 25;\r\n\r\nfunction Paginator({ dataCount, currentPage, setCurrentPage }) {\r\n  const pagesCount = Math.ceil(+dataCount / PAGE_SIZE);\r\n\r\n  const [leftSide, setLeftSide] = useState(null);\r\n  const [rifhtSide, setRightSide] = useState(null);\r\n\r\n  useEffect(() => {\r\n    setLeftSide(() => {\r\n      if (currentPage < 5) {\r\n        return Array(currentPage - 1)\r\n          .fill()\r\n          .map((_, index) => index + 1);\r\n      } else {\r\n        return [1, \"...\", currentPage - 1];\r\n      }\r\n    });\r\n    setRightSide(() => {\r\n      if (pagesCount - currentPage < 4) {\r\n        return Array(pagesCount - currentPage)\r\n          .fill()\r\n          .map((_, index) => currentPage + index + 1);\r\n      } else {\r\n        return [currentPage + 1, \"...\", pagesCount];\r\n      }\r\n    });\r\n  }, [currentPage, pagesCount]);\r\n\r\n  return (\r\n    <div className={styles.paginator}>\r\n      <Btn\r\n        noBorder\r\n        className={styles.back}\r\n        disabled={currentPage === 1}\r\n        onClick={() => {\r\n          setCurrentPage(currentPage - 1);\r\n        }}\r\n      >\r\n        <IconArrowDown />\r\n      </Btn>\r\n      <div className={styles.pages}>\r\n        {leftSide &&\r\n          leftSide.map((page) => (\r\n            <PageCircle\r\n              key={page}\r\n              pageNum={page}\r\n              onPageClick={() => {\r\n                setCurrentPage(+page);\r\n              }}\r\n              isActivePage={false}\r\n            />\r\n          ))}\r\n\r\n        <PageCircle\r\n          key={currentPage}\r\n          pageNum={currentPage}\r\n          onPageClick={() => {\r\n            setCurrentPage(+currentPage);\r\n          }}\r\n          isActivePage={true}\r\n        />\r\n\r\n        {rifhtSide &&\r\n          rifhtSide.map((page) => (\r\n            <PageCircle\r\n              key={page}\r\n              pageNum={page}\r\n              onPageClick={() => {\r\n                setCurrentPage(+page);\r\n              }}\r\n              isActivePage={false}\r\n            />\r\n          ))}\r\n      </div>\r\n      <Btn\r\n        noBorder\r\n        className={styles.next}\r\n        disabled={currentPage === pagesCount}\r\n        onClick={() => {\r\n          setCurrentPage(currentPage + 1);\r\n        }}\r\n      >\r\n        <IconArrowDown />\r\n      </Btn>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Paginator;\r\n\r\nconst PageCircle = ({ pageNum, onPageClick, isActivePage }) =>\r\n  pageNum !== \"...\" ? (\r\n    <button\r\n      onClick={onPageClick}\r\n      className={classNames(styles.pageCircle, {\r\n        [styles.activePageCircle]: isActivePage,\r\n      })}\r\n    >\r\n      {pageNum}\r\n    </button>\r\n  ) : (\r\n    <button className={classNames(styles.pageCircle, styles.dots)}>...</button>\r\n  );\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}